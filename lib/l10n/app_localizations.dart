import 'package:flutter/material.dart';
import 'package:intl/intl.dart';

class AppLocalizations {
  final Locale locale;

  AppLocalizations(this.locale);

  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations)!;
  }

  static const Map<String, Map<String, String>> _localizedValues = {
    'en': {
      'totalCards': 'Total Cards',
      'collections': 'Collections',
      'value': 'Value',
      'settings': 'Settings',
      'language': 'Language',
      'darkMode': 'Dark Mode',
      'signOut': 'Sign Out',
      'notifications': 'Notifications',
      'backupCollection': 'Backup Collection',
      'currency': 'Currency',
      'editProfile': 'Edit Profile',
      'privacySettings': 'Privacy Settings',
      'account': 'Account',
      'selectLanguage': 'Select Language',
      'overview': 'Overview',
      'home': 'Home',
      'binders': 'Binders',
      'analytics': 'Analytics',
      'searchCards': 'Search cards...',
      'noCardsFound': 'No cards found',
      'tryAdjustingSearch': 'Try adjusting your search terms',
      'searchResults': 'Search Results',
      'signInToTrack': 'Sign in to track your collection value and stats',
      'popularCards': 'Popular Cards',
      'popularSearches': 'Popular Searches',
      'recentSets': 'Recent Sets',
      'recentSearches': 'Recent Searches',
      'clear': 'Clear',
      'sortBy': 'Sort By',
      'done': 'Done',
      'searching': 'Searching...',
      'main': 'Main',
      'emptyCollection': 'Your Collection is Empty',
      'addFirstCard': 'Start by adding your first card or create a new binder',
      'newBinder': 'New Binder',
      'addCard': 'Add Card',
      'portfolio': 'Portfolio',
      'portfolioValue': 'Portfolio Value',
      'mostValuable': 'Most Valuable Cards',
      'recentAdditions': 'Recent Additions',
      'viewAll': 'View All',
      'collectionStats': 'Collection Stats',
      'totalValue': 'Total Value',
      'addToCollection': 'Add to Collection',
      'removeFromCollection': 'Remove from Collection',
      'cardDetails': 'Card Details',
      'setDistribution': 'Set Distribution',
      'priceDistribution': 'Price Distribution',
      'topMovers': 'Top Movers',
      'addCardsForAnalytics': 'Add some cards to see analytics',
      'collectionOverview': 'Collection Overview',
      'tryAgain': 'Try Again',
      'errorOccurred': 'Something went wrong',
      'valueOverTime': 'Value Over Time',
      'allSets': 'All Sets',
      'allPriceChanges': 'All Price Changes',
      'topMovers24h': 'Top Movers (24h)',
      'previous': 'Previous',
      'showAll': 'Show All',
      'cards': 'Cards',
      'dangerZone': 'Danger Zone',
      'deleteAccount': 'Delete Account',
      'deleteAccountDesc': 'This will permanently delete your account and all data',
      'latestSet': 'Latest Set',
      'cardName': 'Card Name',
      'collectionValueTrend': 'Collection Value Trend',
      'surgingSparks': 'Surging Sparks',  // Or whatever set name you want to use
      'search': 'Search',  // Add this for nav bar
      'valueGrowth': 'Value Growth',
      'percentChange': 'Change',
      'sets': 'Sets',
      'priceRange': 'Price Range',
      'timeframe_24h': '24h',
      'timeframe_7d': '7d',
      'timeframe_30d': '30d',
      'timeframe_YTD': 'YTD',
      'unknownRarity': 'Unknown Rarity',
      'total': 'Total',
      'profile': 'Profile',
      'welcomeUser': 'Welcome, {user}',
    },
    'es': {
      'totalCards': 'Total de Cartas',
      'collections': 'Colecciones',
      'value': 'Valor',
      'settings': 'Configuración',
      'language': 'Idioma',
      'darkMode': 'Modo Oscuro',
      'signOut': 'Cerrar Sesión',
      'notifications': 'Notificaciones',
      'backupCollection': 'Copia de Seguridad',
      'currency': 'Moneda',
      'editProfile': 'Editar Perfil',
      'privacySettings': 'Privacidad',
      'account': 'Cuenta',
      'selectLanguage': 'Seleccionar Idioma',
      'overview': 'Resumen',
      'home': 'Inicio',
      'binders': 'Carpetas',
      'analytics': 'Análisis',
      'searchCards': 'Buscar cartas...',
      'noCardsFound': 'No se encontraron cartas',
      'tryAdjustingSearch': 'Intenta ajustar tu búsqueda',
      'searchResults': 'Resultados de búsqueda',
      'signInToTrack': 'Inicia sesión para seguir el valor de tu colección',
      'popularCards': 'Cartas Populares',
      'popularSearches': 'Búsquedas Populares',
      'recentSets': 'Sets Recientes',
      'recentSearches': 'Búsquedas Recientes',
      'clear': 'Borrar',
      'sortBy': 'Ordenar Por',
      'done': 'Listo',
      'searching': 'Buscando...',
      'main': 'Principal',
      'emptyCollection': 'Tu Colección está Vacía',
      'addFirstCard': 'Comienza añadiendo tu primera carta o crea una nueva carpeta',
      'newBinder': 'Nueva Carpeta',
      'addCard': 'Añadir Carta',
      'portfolio': 'Portafolio',
      'portfolioValue': 'Valor del Portafolio',
      'mostValuable': 'Cartas más Valiosas',
      'recentAdditions': 'Añadidas Recientemente',
      'viewAll': 'Ver Todo',
      'collectionStats': 'Estadísticas',
      'totalValue': 'Valor Total',
      'addToCollection': 'Añadir a Colección',
      'removeFromCollection': 'Quitar de Colección',
      'cardDetails': 'Detalles de la Carta',
      'setDistribution': 'Distribución por Set',
      'priceDistribution': 'Distribución de Precios',
      'topMovers': 'Mayores Cambios',
      'addCardsForAnalytics': 'Añade cartas para ver análisis',
      'collectionOverview': 'Resumen de Colección',
      'tryAgain': 'Intentar de Nuevo',
      'errorOccurred': 'Algo salió mal',
      'valueOverTime': 'Valor a lo Largo del Tiempo',
      'allSets': 'Todos los Sets',
      'allPriceChanges': 'Todos los Cambios de Precio',
      'topMovers24h': 'Mayores Cambios (24h)',
      'previous': 'Anterior',
      'showAll': 'Ver Todo',
      'cards': 'Cartas',
      'dangerZone': 'Zona Peligrosa',
      'deleteAccount': 'Eliminar Cuenta',
      'deleteAccountDesc': 'Esto eliminará permanentemente tu cuenta y todos los datos',
      'latestSet': 'Último Set',
      'cardName': 'Nombre de la Carta',
      'collectionValueTrend': 'Tendencia del Valor',
      'surgingSparks': 'Chispas Surgentes',
      'search': 'Buscar',
      'valueGrowth': 'Crecimiento del Valor',
      'percentChange': 'Cambio',
      'sets': 'Sets',
      'priceRange': 'Rango de Precio',
      'timeframe_24h': '24h',
      'timeframe_7d': '7d',
      'timeframe_30d': '30d',
      'timeframe_YTD': 'Año',
      'unknownRarity': 'Rareza Desconocida',
      'total': 'Total',
    },
    'ja': {
      'totalCards': 'カード総数',
      'collections': 'コレクション',
      'value': '価値',
      'settings': '設定',
      'language': '言語',
      'darkMode': 'ダークモード',
      'signOut': 'サインアウト',
      'notifications': '通知',
      'backupCollection': 'バックアップ',
      'currency': '通貨',
      'editProfile': 'プロフィール編集',
      'privacySettings': 'プライバシー設定',
      'account': 'アカウント',
      'selectLanguage': '言語を選択',
      'overview': '概要',
      'home': 'ホーム',
      'binders': 'バインダー',
      'analytics': '分析',
      'searchCards': 'カードを検索...',
      'noCardsFound': 'カードが見つかりません',
      'tryAdjustingSearch': '検索条件を変更してみてください',
      'searchResults': '検索結果',
      'signInToTrack': 'サインインしてコレクションを管理',
      'popularCards': '人気のカード',
      'popularSearches': '人気の検索',
      'recentSets': '最新セット',
      'recentSearches': '最近の検索',
      'clear': 'クリア',
      'sortBy': '並び替え',
      'done': '完了',
      'searching': '検索中...',
      'main': 'メイン',
      'emptyCollection': 'コレクションが空です',
      'addFirstCard': '最初のカードを追加するか、新しいバインダーを作成してください',
      'newBinder': '新規バインダー',
      'addCard': 'カード追加',
      'portfolio': 'ポートフォリオ',
      'portfolioValue': 'ポートフォリオ価値',
      'mostValuable': '最も価値のあるカード',
      'recentAdditions': '最近の追加',
      'viewAll': 'すべて表示',
      'collectionStats': 'コレクション統計',
      'totalValue': '合計価値',
      'addToCollection': 'コレクションに追加',
      'removeFromCollection': 'コレクションから削除',
      'cardDetails': 'カード詳細',
      'setDistribution': 'セット分布',
      'priceDistribution': '価格分布',
      'topMovers': '価格変動',
      'addCardsForAnalytics': '分析を表示するにはカードを追加してください',
      'collectionOverview': 'コレクション概要',
      'tryAgain': '再試行',
      'errorOccurred': 'エラーが発生しました',
      'valueOverTime': '価値の推移',
      'allSets': '全セット',
      'allPriceChanges': '全価格変動',
      'topMovers24h': '価格変動 (24時間)',
      'previous': '前回',
      'showAll': 'すべて表示',
      'cards': 'カード',
      'dangerZone': '危険区域',
      'deleteAccount': 'アカウント削除',
      'deleteAccountDesc': 'アカウントとすべてのデータが完全に削除されます',
      'latestSet': '最新セット',
      'cardName': 'カード名',
      'collectionValueTrend': 'コレクション価値推移',
      'surgingSparks': 'サージングスパークス',
      'search': '検索',
      'valueGrowth': '価値成長',
      'percentChange': '変動',
      'sets': 'セット',
      'priceRange': '価格帯',
      'timeframe_24h': '24時間',
      'timeframe_7d': '7日',
      'timeframe_30d': '30日',
      'timeframe_YTD': '年初来',
      'unknownRarity': '不明なレア度',
      'total': '合計',
    },
    'fr': {
      'totalCards': 'Cartes Totales',
      'collections': 'Collections',
      'value': 'Valeur',
      'settings': 'Paramètres',
      'language': 'Langue',
      'darkMode': 'Mode Sombre',
      'profile': 'Profil',
      'welcomeUser': 'Bienvenue, {user}',
      // Add other French translations...
    },
    'de': {
      'totalCards': 'Gesamtkarten',
      'collections': 'Sammlungen',
      'value': 'Wert',
      'settings': 'Einstellungen',
      'language': 'Sprache',
      'darkMode': 'Dunkelmodus',
      'profile': 'Profil',
      'welcomeUser': 'Willkommen, {user}',
      // Add other German translations...
    },
    'it': {
      'totalCards': 'Carte Totali',
      'collections': 'Collezioni',
      'value': 'Valore',
      'settings': 'Impostazioni',
      'language': 'Lingua',
      'darkMode': 'Modalità Scura',
      'profile': 'Profilo',
      'welcomeUser': 'Benvenuto, {user}',
      // Add other Italian translations...
    },
  };

  String translate(String key) => 
      _localizedValues[locale.languageCode]?[key] ?? 
      _localizedValues['en']?[key] ?? 
      key;
}

class AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) => 
    ['en', 'es', 'ja', 'fr', 'de', 'it'].contains(locale.languageCode);

  @override
  Future<AppLocalizations> load(Locale locale) async => AppLocalizations(locale);

  @override
  bool shouldReload(AppLocalizationsDelegate old) => false;
}
